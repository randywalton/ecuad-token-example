!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"))?a:String(a)),o)}var r,a}function t(e){return t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},t(e)}function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function r(e,t,a){return r=o()?Reflect.construct.bind():function(e,t,o){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return o&&n(a,o.prototype),a},r.apply(null,arguments)}function a(e){var o="function"==typeof Map?new Map:void 0;return a=function(e){if(null===e||(a=e,-1===Function.toString.call(a).indexOf("[native code]")))return e;var a;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==o){if(o.has(e))return o.get(e);o.set(e,c)}function c(){return r(e,arguments,t(this).constructor)}return c.prototype=Object.create(e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),n(c,e)},a(e)}function c(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}var i=new CSSStyleSheet;i.replaceSync("\n\n    :host {\n\n        display: block;\n        width: 100%;\n        padding: var(--global-spacing-scale-large);\n\n        margin: 1rem 0;\n    }\n        p, h2 {\n            margin:0px;\n            padding:0px;\n            line-height: 1.3;\n        }\n\n        h2 {\n            font-family: var(--global-typeface-headline-family);\n            font-size: var(--global-typeface-headline-size);\n            font-weight: 300;\n            margin-bottom: 0.4rem;\n        }\n\n        p {\n            font-family: var(--global-typeface-copy-family);\n            font-weight: 400;\n            font-size: var(--global-typeface-copy-size);\n        }\n\n        // h2.light, p.light{\n        //     color: var(--light-theme-card-text-color);\n        // }\n\n        // h2.dark, p.dark{\n        //     color: var(--dark-theme-card-text-color);\n        // }\n\n       \n    ");var l=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}(p,r);var a,l,u,s,d,f=(a=p,l=o(),function(){var e,n=t(a);if(l){var o=t(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return c(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),e=f.call(this);var t=document.getElementById("custom-card-template").content,n=e.attachShadow({mode:"open"});return n.appendChild(t.cloneNode(!0)),n.adoptedStyleSheets=[i],e.headline=e.shadowRoot.querySelector(".headline"),e.copy=e.shadowRoot.querySelector(".copy"),e}return u=p,d=[{key:"observedAttributes",get:function(){return["data-theme"]}}],(s=[{key:"connectedCallback",value:function(){}},{key:"disconnectedCallback",value:function(){}}])&&e(u.prototype,s),d&&e(u,d),Object.defineProperty(u,"prototype",{writable:!1}),p}(a(HTMLElement)),u=[],s=[],d=[],f=[],p=[],y=[],m=[];function h(){fetch("../data/tokens.json").then((function(e){return e.json()})).then((function(e){!function(e){var t=e.global,n=e.light,o=e.dark;for(var r in t.color.primary)u.push("--global-color-primary-".concat(r,": ").concat(t.color.primary[r].value,";"));for(var a in t.color.neutral)s.push("--global-color-neutral-".concat(a,": ").concat(t.color.neutral[a].value,";"));for(var c in t.fontSize)d.push("--global-fontSize-".concat(c,": ").concat(t.fontSize[c].value,"px;"));for(var i in t.fontFamilies)d.push("--global-fontFamilies-".concat(i,": ").concat(t.fontFamilies[i].value,";"));for(var l in t.typeface)("headline"===l||"copy"===l)&&f.push("--global-typeface-".concat(l,"-family: var(--global-").concat(v(t.typeface[l].value.fontFamily),");"),"--global-typeface-".concat(l,"-size: var(--global-").concat(v(t.typeface[l].value.fontSize),");"));for(var h in t.spacing)p.push("--global-spacing-".concat(h,": ").concat(t.spacing[h].value,"px;"));for(var b in n)y.push("--light-theme-".concat(b,": var(--global-").concat(v(n[b].value),");"));for(var g in o)m.push("--dark-theme-".concat(g,": var(--global-").concat(v(o[g].value),");"));w=new CSSStyleSheet,w.replaceSync("\n        :root {\n            /* Color */\n            ".concat(u.join(" "),"\n            ").concat(s.join(" "),"\n            /* Type */\n            ").concat(d.join(" "),"\n            ").concat(f.join(" "),"\n            /* Scales */\n            ").concat(p.join(" "),"\n            /* Themes */\n            ").concat(y.join(" "),"\n            ").concat(m.join(" "),"\n        }\n\n        ")),document.adoptedStyleSheets=[w];var w}(e)}))}function v(e){var t={"{":"","}":"",".":"-"};return e.replace(/[{}.]/g,(function(e){return t[e]}))}h(),document.addEventListener("DOMContentLoaded",(function(e){"customElements"in window&&customElements.define("custom-card",l),h();var t=document.getElementById("theme-select"),n=document.getElementById("site-header"),o=document.getElementById("card_container"),r=document.getElementById("submit_btn"),a=document.getElementById("message"),c=document.getElementById("title"),i=document.getElementById("alert"),u=document.getElementsByTagName("body")[0];r.addEventListener("click",(function(e){e.preventDefault(),i.innerHTML="",""!==c.value&&""!==a.value?(!function(e,t){var n=f(t),o=f(e);fetch(s,{method:"POST",headers:{"api-key":d,"Content-Type":"application/json"},body:JSON.stringify({data:{title:"".concat(o),copy:"".concat(n),_state:1}})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log("problem!",e)}))}(c.value,a.value),i.style.display="block",i.classList.remove("error"),i.classList.add("sucess"),i.innerHTML="Message submitted!"):(i.style.display="block",i.classList.remove("sucess"),i.classList.add("error"),i.innerHTML="Fill in both title and message!")})),t.addEventListener("change",(function(e){if("dark"===e.target.value){n.classList.remove("light"),n.classList.add("dark"),u.classList.remove("light"),u.classList.add("dark");var t=new CustomEvent("cardUpdated",{bubbles:!0,detail:{update:"dark"}});dispatchEvent(t)}else{n.classList.remove("dark"),n.classList.add("light"),u.classList.remove("dark"),u.classList.add("light");var o=new CustomEvent("cardUpdated",{bubbles:!0,detail:{update:"light"}});dispatchEvent(o)}}));var s="https://randywalton.ca/ecuad/cms/api/content/item/exampleArticles",d="API-9c67173d397298b9451f535609fb708214598b83";function f(e){return e.replace(/[^\w. ]/gi,(function(e){return"&#"+e.charCodeAt(0)+";"}))}fetch("https://randywalton.ca/ecuad/cms/api/content/items/exampleArticles",{method:"GET",headers:{"api-key":d}}).then((function(e){return e.json()})).then((function(e){var t;console.log(e),t=e,console.log(t," build"),t.forEach((function(e){console.log(e.title," single");var t=document.createElement("custom-card");t.classList.add("card");var n=document.createElement("span");n.slot="headline",n.innerHTML=e.title;var r=document.createElement("span");r.slot="copy",r.innerHTML=e.copy,t.append(n,r),o.append(t)})),e.error&&console.log("problem!",e.error)}))}))}();
//# sourceMappingURL=index-min.js.map