!function(){"use strict";const e=new CSSStyleSheet;e.replaceSync("\n\n    :host {\n\n        display: block;\n        width: 100%;\n        padding: var(--global-spacing-scale-large);\n\n        margin: 1rem 0;\n    }\n        p, h2 {\n            margin:0px;\n            padding:0px;\n            line-height: 1.3;\n        }\n\n        h2 {\n            font-family: var(--global-typeface-headline-family);\n            font-size: var(--global-typeface-headline-size);\n            font-weight: 300;\n            margin-bottom: 0.4rem;\n        }\n\n        p {\n            font-family: var(--global-typeface-copy-family);\n            font-weight: 400;\n            font-size: var(--global-typeface-copy-size);\n        }\n\n        // h2.light, p.light{\n        //     color: var(--light-theme-card-text-color);\n        // }\n\n        // h2.dark, p.dark{\n        //     color: var(--dark-theme-card-text-color);\n        // }\n\n       \n    ");class t extends HTMLElement{static get observedAttributes(){return["data-theme"]}constructor(){super();let t=document.getElementById("custom-card-template").content;const n=this.attachShadow({mode:"open"});n.appendChild(t.cloneNode(!0)),n.adoptedStyleSheets=[e],this.headline=this.shadowRoot.querySelector(".headline"),this.copy=this.shadowRoot.querySelector(".copy")}connectedCallback(){}disconnectedCallback(){}}let n=[],a=[],o=[],c=[],l=[],s=[],i=[],r=[];function d(){fetch("./data/tokens.json").then((e=>e.json())).then((e=>{!function(e){let t=e.global,d=e.light,m=e.dark;for(let e in t.color.purple)n.push("--global-color-purple-".concat(e,": ").concat(t.color.purple[e].value,";"));for(let e in t.color.yellow)n.push("--global-color-yellow-".concat(e,": ").concat(t.color.yellow[e].value,";"));for(let e in t.color.neutral)o.push("--global-color-neutral-".concat(e,": ").concat(t.color.neutral[e].value,";"));for(let e in t.fontSize)c.push("--global-fontSize-".concat(e,": ").concat(t.fontSize[e].value,"px;"));for(let e in t.fontFamilies)c.push("--global-fontFamilies-".concat(e,": ").concat(t.fontFamilies[e].value,";"));for(let e in t.typeface)("headline"===e||"copy"===e)&&l.push("--global-typeface-".concat(e,"-family: var(--global-").concat(p(t.typeface[e].value.fontFamily),");"),"--global-typeface-".concat(e,"-size: var(--global-").concat(p(t.typeface[e].value.fontSize),");"));for(let e in t.spacing)s.push("--global-spacing-".concat(e,": ").concat(t.spacing[e].value,"px;"));for(let e in d)i.push("--light-theme-".concat(e,": var(--global-").concat(p(d[e].value),");"));for(let e in m)r.push("--dark-theme-".concat(e,": var(--global-").concat(p(m[e].value),");"));!function(){const e=new CSSStyleSheet;e.replaceSync("\n        :root {\n            /* Color */\n            ".concat(n.join(" "),"\n            ").concat(a.join(" "),"\n            ").concat(o.join(" "),"\n            /* Type */\n            ").concat(c.join(" "),"\n            ").concat(l.join(" "),"\n            /* Scales */\n            ").concat(s.join(" "),"\n            /* Themes */\n            ").concat(i.join(" "),"\n            ").concat(r.join(" "),"\n        }\n\n        ")),document.adoptedStyleSheets=[e]}()}(e)}))}function p(e){const t={"{":"","}":"",".":"-"};return e.replace(/[{}.]/g,(e=>t[e]))}d(),document.addEventListener("DOMContentLoaded",(e=>{"customElements"in window&&customElements.define("custom-card",t),d();const n=document.getElementById("theme-select"),a=document.getElementById("site-header"),o=document.getElementById("card_container"),c=document.getElementById("submit_btn"),l=document.getElementById("message"),s=document.getElementById("title"),i=document.getElementById("alert"),r=document.getElementsByTagName("body")[0];c.addEventListener("click",(e=>{e.preventDefault(),i.innerHTML="",""!==s.value&&""!==l.value?(!function(e,t){let n=u(t),a=u(e);fetch(p,{method:"POST",headers:{"api-key":m,"Content-Type":"application/json"},body:JSON.stringify({data:{title:"".concat(a),copy:"".concat(n),_state:1}})}).then((e=>e.json())).then((e=>{})).catch((e=>{console.log("problem!",e)}))}(s.value,l.value),i.style.display="block",i.classList.remove("error"),i.classList.add("sucess"),i.innerHTML="Message submitted!"):(i.style.display="block",i.classList.remove("sucess"),i.classList.add("error"),i.innerHTML="Fill in both title and message!")})),n.addEventListener("change",(e=>{if("dark"===e.target.value){a.classList.remove("light"),a.classList.add("dark"),r.classList.remove("light"),r.classList.add("dark");const e=new CustomEvent("cardUpdated",{bubbles:!0,detail:{update:"dark"}});dispatchEvent(e)}else{a.classList.remove("dark"),a.classList.add("light"),r.classList.remove("dark"),r.classList.add("light");const e=new CustomEvent("cardUpdated",{bubbles:!0,detail:{update:"light"}});dispatchEvent(e)}}));const p="https://randywalton.ca/ecuad/cms/api/content/item/exampleArticles",m="API-9c67173d397298b9451f535609fb708214598b83";function u(e){return e.replace(/[^\w. ]/gi,(function(e){return"&#"+e.charCodeAt(0)+";"}))}fetch("https://randywalton.ca/ecuad/cms/api/content/items/exampleArticles",{method:"GET",headers:{"api-key":m}}).then((e=>e.json())).then((e=>{e.forEach((e=>{const t=document.createElement("custom-card");t.classList.add("card");const n=document.createElement("span");n.slot="headline",n.innerHTML=e.title;const a=document.createElement("span");a.slot="copy",a.innerHTML=e.copy,t.append(n,a),o.append(t)})),e.error&&console.log("problem!",e.error)}))}))}();
//# sourceMappingURL=index-min.js.map